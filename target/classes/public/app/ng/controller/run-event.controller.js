angular.module("run_proud").controller("RunEventController",["$rootScope","$scope","$state","$cookies","Access",function(e,o,r,n,t){o.checkUser=function(){if(t.user)o.user=t.getUser(),o.$emit("childEmit",o.user);else{var e=n.get("run_proud_token");e?t.getClaimsFromToken(e,function(e){o.user=e.data.principal.user,o.$emit("childEmit",o.user)},function(e){console.log(e),t.clearData(),n.remove("run_proud_token"),r.go("login")}):r.go("login")}},o.checkUser()}]);