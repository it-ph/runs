angular.module("run_proud").controller("RegisterController",["$rootScope","$scope","$state","RegistrationDataOp",function(r,e,o,s){e.reg={},e.error="",e.register=function(){e.error=void 0,e.isValid(e.reg.email)||(e.error="Invalid email format"),e.reg.password.length<7&&(e.error="Password must not be less than 7 characters"),e.reg.password!=e.reg.confirm_password&&(e.error="Passwords mismatched"),e.reg.facility||(e.error="Please select a facility"),e.error||s.register(e.reg).then(function(r){console.log(r),e.reg={},e.msg="Your registration was sent successfully. An email will be sent to you once your registration has been approved"}).catch(function(r){console.log(r),e.error=r.data.message})},e.isValid=function(r){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)}}]);