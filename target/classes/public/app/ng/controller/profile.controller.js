angular.module("run_proud").controller("ProfileController",["$rootScope","$scope","$state","$cookies","Access",function(o,e,r,n,u){var t=this;t.user=null,t.isAdmin=function(){return!!t.user&&"ADMIN"==t.user.role},t.checkUser=function(){if(u.user)t.user=u.user;else{var o=n.get("run_proud_token");o?u.getClaimsFromToken(o,function(o){t.user=o.data.principal.user},function(o){console.log(o),u.clearData(),n.remove("run_proud_token"),r.go("login")}):r.go("login")}},t.checkUser(),t.hasRace=!0,t.logout=function(){n.remove("run_proud_token"),u.logout(),r.go("login")}}]);